# chapter14 more cargo and crate.io

## 14.01 采用发布配置自定义构建

---
**自定义构建**

cargo build

采用默认配置：dev 配置去构建编译项目，用于开发时，多次编译。注意dev配置是一类配置的总称，这一类配置包括多个参数

eg：

[profile.dev]
opt.level = 0;
在使用dev配置时构建项目采用最低级代码优化设置

cargo build --release

发布版本配置：release有着良好发布构建的配置，一般会对多个配中的参数进行重新设定，而不采用dev配置中的参数设置

release配置下只编译一次而使用多次，一般采取使代码性能高的参数设置，但是一次编译的时间会更长
 
---

## 14.02 将 crate 发布到 Crates.io

**crate.io用于分发源代码，用于托管代码**

### 编写有用的文档注释
---
//：用于注释代码

**///**：编写文档注释，会生成HTML文档，目的是使程序员使用该crate而非解释如何实现

cargo doc ：用于生成crate的文档注释部分的HTML文档，位于target/doc中
caro doc --open: 打开生成的HTML文件

**常用的文档注释部分**

- Panics：这个函数可能会 panic! 的场景。并不希望程序崩溃的函数调用者应该确保他们不会 在这些情况下调用此函数。 Errors：如果这个函数返回 
- Result ，此部分描述可能会出现何种错误以及什么情况会造成这 些错误，这有助于调用者编写代码来采用不同的方式处理不同的错误。 
- Safety：如果这个函数使用 unsafe 代码（这会在第十九章讨论），这一部分应该会涉及到期望函数调用者支持的确保 unsafe 块中代码正常工作的不变条件（invariants）。
---

### 文档注释作为测试

---
**cargo test**：会测试注释中的例子（修改代码后可能会出错）

---

### 注释包含项的结构

---
**//！**: 用于注释文档注释，相当于对整体crate或者模块的注释。用于crate的根文件（通常是src/lib.rs）

---

